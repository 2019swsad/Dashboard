# 集成测试方案

## 测试项

### 通用功能
- 注册
  - 能否成功注册
      - 能通过注册的账号密码登录
  - 能否解决“用户名已存在”的问题
      - 实时检测并提示“用户名已存在”
      - “用户名已存在”时无法完成注册
  - 能否解决“关键注册信息空缺”的问题
      - 实时检测并提示“注册信息未填写”
      - “注册信息空缺”时无法完成注册
- 登录
  - 能否成功登录
  - 能否解决“账号/密码错误”的问题
    - 信息错误时有相应提示
    - 信息错误时不能完成登录
  - 能否持久化登录数据
    - 登录后能本地保存cookie
    - 登录后能保存返回的用户昵称，并可即时在“我的页面”查询
- 消息中心
  - 在完成相关活动时，消息中心是否能准确地产生相应消息通知
     
### 发布者
- 发布任务
  - 能否成功发布任务
    - 其他用户能看到该任务
  - 能否处理“关键任务信息空缺”的问题
    - 检测并提示未填写的信息
    - 关键信息空缺时无法完成注册
  - 能否完成余额冻结
    - 在“我的钱包”页面的余额应相应减少
  - 能否处理“余额不足”的问题
    - 出现相应提示
    - 发布任务失败
- 停止报名
  - 任务状态变为“进行中”
  - 停止报名后，能否防止其他用户继续报名
    - 其他用户不能再在任务中心中查看到该任务
    - 即便能查看到该任务，也不能报名(用postman测试)
  - 停止报名后，候补人员的订单状态能否转为“已失效”
    - “报名的任务”页面显示“已失效”
    - 任务详情页面没有任何操作按钮
- 结束任务
  - 任务状态变为“已结束”
  - 参与者的订单状态改变
    - 未完成任务的参与者的订单状态变为“已失效”
    - 已完成任务的参与者订单状态依然为“已结束”
  - 在任务未到开始时间时结束任务
    - 返还订单剩余的金额（如果有参与者提前完成了，这部分金额已支付给参与者，不会返还给发布者）
    - 通知所有未完成任务的参与者
  - 在任务未到结束时间时结束任务
    - 向未完成任务的参与者支付30%酬劳
    - 返还订单剩余的金额（如果有参与者提前完成了，这部分金额已支付给参与者，不会返还给发布者）
    - 通知所有未完成任务的参与者
  - 在任务已到结束时间时结束任务
    - 返还订单剩余的金额（如果有参与者提前完成了，这部分金额已支付给参与者，不会返还给发布者）
    - 通知所有未完成任务的参与者
  - 参与者不能再提交“完成任务”请求
    - 任务详情页面变为“已结束”状态
    - 尝试提交“完成任务”请求会有相应提示
- 取消报名资格
  - 能否顺利取消某参与者的资格
    - 将相应用户从参与者名单中移除
    - 通知被取消资格的用户
    - 相应用户的订单状态由“进行中”变为“已关闭”
  - 能否处理“在取消报名资格时，报名者已提前退出任务”的问题
    - 出现相应提示
    - 阻止非法请求
- 候补人员转正
  - 在参与人数未超额的情况下，是否能顺利转正
    - 将相应用户从候补人员名单移至参与者名单
    - 通知候补人员
    - 候补人员的订单状态由“候补中”变为“进行中”
    - 候补人员的订单详情页面更改为“进行中”对应的页面
  - 能否处理“参与人数超额”问题
    - 出现相应提示
    - 阻止发布者转正操作
### 报名者
- 接收任务
  - 能够防止发布者报名参加自己的任务
  - 参与者未满额时，其他用户能否顺利报名
    - 报名后，可以马上在“报名的任务”页面查看到相应任务
    - 通知发布者
  - 参与者已满额时，其他用户能否成功报名成为候补
    - 报名后，可以马上在“报名的任务”页面查看到相应任务
  - 能否防止用户重复报名同一个任务
    - 参与者不能再次报名成为参与者
    - 参与者不能再次报名成为候补
- 完成任务
  - 参与者是否能正确完成任务
    - 验证完成码
    - 余额增加
  - 完成码错误时，能否出现相应提示
  - 能否处理任务已结束时的非法请求
    - 出现相应提示
    - 页面跳转到“任务已失效”状态的任务详情
- 退出任务
  - 在任务未到结束时间时退出任务
    - 将用户从参与者列表中移除
    - 订单状态由“进行中”变为“已关闭”
    - 通知任务发布者
  - 在任务已到结束时间时退出任务
    - 将用户从参与者列表中移除
    - 订单状态由“进行中”变为“已关闭”
    - 扣除参与者的信誉值
    - 通知任务发布者
- 退出候补
  - 将用户从参与者列表中移除
  - 订单状态由“候补中”变为“已关闭”
